sap.ui.define(["sap/ui/model/json/JSONModel"],function(e){let n=false;const o=new sap.ui.model.json.JSONModel;const s=document.location.hostname==="localhost"?"":"/XMII/CM/Mes/macchina";o.loadData(`${s}/resources/services.json`).then(()=>{n=true});function a(t,e){const n=o.getData();if(!n.services.hasOwnProperty(t)){return r(t)}const a=n.services[t];const c=n.conf[a.conf||"base"];const u=s?"":"http://localhost:8090/";const i={path:`${u}${c.protocol}://${c.server}${c.port?":"+c.port:""}${a.path}`,method:a.method||"GET"};if(e.params&&a.params){i.path+=(i.path.includes("?")?"&":"?")+e.params.map((t,e)=>t?a.params[e]+"="+t:null).filter(t=>t).join("&")}if(a.auth&&c.auth){if(c.auth.type==="querystring"){i.path+=(i.path.includes("?")?"&":"?")+[c.auth.uid,c.auth.pwd].join("&")}}return i}function r(t){return{path:`${s}/resources/static/${t}.json`,method:"GET"}}function c(e,o){return new Promise((s,r)=>{(function r(){if(n){let t;t=a(e,o);const n=new XMLHttpRequest;n.open(t.method,t.path,false);n.send(null);const r=JSON.parse(n.responseText);return s(r)}t=setTimeout(r,1e3)})()})}return c});